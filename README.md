📒 **Wifi Project (2024.07.01 - 2024.07.15)**

**서울 공공 데이터 API를 이용해 자신의 위치 및 특정 위치에서 1km 내에 존재하는 공공 와이파이 정보를 제공하는 프로젝트**



### **기술 스택**
<p align="left" display="inline-block">
	<img src="https://img.shields.io/badge/Java-007396?style=flat&logo=Conda-Forge&logoColor=white" /> 
	<img src="https://img.shields.io/badge/HTML5-E34F26?style=flat&logo=HTML5&logoColor=white" />
	<img src="https://img.shields.io/badge/CSS3-1572B6?style=flat&logo=CSS3&logoColor=white" />
    <img src="https://img.shields.io/badge/sqlite-003B57?style=flat&logo=sqlite&logoColor=white" />
    <img src="https://img.shields.io/badge/apachetomcat-F8DC75?style=flat&logo=apachetomcat&logoColor=white" />
</p>

- **Language : JAVA**  
- **Build : Maven**  
- **Database : SQLITE**  
- **Server : Tomcat 8.5**  
- **JDK : JDK 1.8**  



### **프로젝트 기능 소개**

1. **서울시 공공 와이파이 정보 가져오기 (Open API 활용)**
   - 서울시에서 제공하는 공공 와이파이 데이터를 **서울시 공공 데이터 API**를 통해 호출합니다.
   - `OkHttp` 라이브러리를 사용해 HTTP 통신을 수행하며, 데이터는 **JSON 형식**으로 처리됩니다.
   - 데이터를 효율적으로 저장하기 위해 **배치(batch) 방식으로 데이터베이스에 저장**합니다.

2. **사용자 위치 기반 와이파이 검색**
   - 사용자가 자신의 위치 정보를 입력하거나, 브라우저의 **Geolocation API**를 사용해 현재 위치를 받아올 수 있습니다.
   - 특정 위치를 입력하면, **해당 위치에서 1km 내에 있는 와이파이 정보 중 가장 가까운 20개**를 조회해 테이블 형식으로 화면에 보여줍니다.
   - 거리 계산은 **위도/경도에 따른 거리 계산 공식**을 사용해 수행됩니다.

3. **조회 히스토리 저장 및 관리**
   - 사용자가 특정 위치를 검색한 경우, 해당 위치의 **위도, 경도 및 조회 시점**을 데이터베이스에 저장합니다.
   - 조회 히스토리는 별도의 **히스토리 페이지**에서 확인할 수 있습니다.
   - 사용자가 원할 경우 **조회 히스토리 삭제**가 가능하며, 삭제된 데이터는 데이터베이스에서도 제거됩니다.

4. **유효성 검사 및 예외 처리**
   - 사용자로부터 입력된 위도 및 경도 값에 대해 **서울 내의 범위인지 유효성 검사**를 수행합니다. (위도: `37.413294 ~ 37.715133`, 경도: `126.734086 ~ 127.269311`)
   - 잘못된 입력값에 대해서는 **JavaScript 및 백엔드 레벨에서 모두 유효성 검사**를 실시하여 이중 방어를 적용했습니다.
   - **NumberFormatException**과 같은 예외 처리를 통해 프로그램이 중단되지 않도록 방지합니다.

5. **사용자 인터페이스 개선**
   - 사용자는 **현재 위치 버튼**을 클릭하여 브라우저의 **위치 서비스**를 사용해 현재 위치의 위도와 경도를 입력란에 자동으로 채울 수 있습니다.
   - 검색 버튼을 클릭하면, 해당 위치에서 **가장 가까운 공공 와이파이 목록**을 조회하고, 결과는 테이블로 제공됩니다.
   - 검색 결과가 없는 경우나 잘못된 입력일 경우, 사용자에게 **경고 메시지**를 제공하여 유효하지 않은 요청을 방지합니다.



### **ERD (DB 설계)**
![image](https://github.com/user-attachments/assets/d1d86248-7769-458f-a849-b705a4a9041f)



### **프로젝트 주요 구성 요소**

- **API 호출**: 서울시 공공 와이파이 데이터를 제공하기 위해 **서울시 공공 데이터 API**를 사용합니다. 데이터는 배치로 가져와 데이터베이스에 저장됩니다.
- **데이터베이스 관리**: 사용자의 조회 히스토리와 와이파이 정보를 **SQLite** 데이터베이스에 저장하며, 데이터 관리를 위한 **DAO 패턴**을 사용합니다.
- **서버 및 서블릿**: **Apache Tomcat 8.5**를 사용해 서블릿 기반의 웹 애플리케이션을 구현했습니다.
- **HTML/CSS 프론트엔드**: 사용자에게 데이터 조회 기능과 위치 정보 입력 기능을 제공하기 위해 **HTML5/CSS3**로 사용자 인터페이스를 구성했습니다.
- **JavaScript 기능**: 위치 데이터를 가져오기 위해 **Geolocation API**를 사용하며, 유효성 검증 및 데이터 전송을 위해 **AJAX 요청**을 사용합니다.



### **코드 구조**

- **Controller (서블릿)**: 클라이언트 요청을 처리하고 적절한 JSP 파일로 데이터를 전달합니다.
- **DAO (Data Access Object)**: 데이터베이스와의 상호작용을 담당하며, CRUD 작업을 수행합니다.
- **DTO (Data Transfer Object)**: 데이터 전달을 위한 객체이며, 데이터베이스의 레코드를 자바 객체로 매핑합니다.
- **JSP 파일**: 사용자 인터페이스로, 사용자에게 데이터를 출력하고 입력을 받는 역할을 합니다.



### **개선 사항 및 향후 계획**

- **사용자 인증 기능 추가**: 로그인 및 회원가입 기능을 추가하여 사용자별 히스토리 관리 기능을 강화할 계획입니다.
- **데이터 캐싱**: 자주 사용되는 공공 와이파이 데이터를 캐싱하여 API 호출 수를 줄이고 성능을 개선할 수 있습니다.
- **유저 친화적인 UI 개선**: 더 직관적인 UI를 통해 사용자 경험을 향상시키고, 반응형 디자인을 추가해 모바일 환경에서도 편리하게 이용할 수 있도록 개선합니다.
